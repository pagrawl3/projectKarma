//var main = require('../../../app/controllers/main.js');
function loadScript(){var e=document.createElement("script");e.type="text/javascript";e.src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDc4bUWerMbRWFK6oldh4vUBS2tiTyL5W8&sensor=true&callback=initialize";document.body.appendChild(e)}function initialize(){console.log("Calling initialize for maps");var e={zoom:3,center:new google.maps.LatLng(25,30),mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("map-canvas"),e);var t=new google.maps.MarkerImage("../img/icons/iconmonstr-location-16-icon.svg",null,null,null,new google.maps.Size(50,50)),n=new google.maps.MarkerImage("../img/icons/iconmonstr-location-17-icon.svg",null,null,null,new google.maps.Size(50,50)),r=new google.maps.LatLng(-34.397,150.644),i=new google.maps.Marker({position:r,map:map});i.setIcon(n);console.log("here")}function codeLoc(e){var t=new google.maps.Geocoder,n=[];t.geocode({address:e},function(e,t){if(t==google.maps.GeocoderStatus.OK){n[1]=e[0].geometry.location.lat();n[0]=e[0].geometry.location.lng();var r=io.connect("/");console.log(n);r.emit("searchByLocation",{loc:n,radius:5e4/3959});r.on("locationSearchSuccess",function(e){for(var t in e.result)console.log(e.result[t].type)})}else alert("Geocode was not successful for the following reason: "+t)})}function codeScale(e){var t=io.connect("/");t.emit("searchByScale",{scale:e})}function codeWork(e){var t=io.connect("/");t.emit("searchByWork",{work:e})}function findType(e){console.log("here");console.log(e);e.type=="loc"?codeLoc(e.value):e.type=="scale"?codeScale(parseInt(e.value)):codeWork(e.value)}function display(e){alert(e)}var icons;